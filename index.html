<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HU Coach Pro - Tooltip Edition</title>
    <style>
        :root {
            --bg: #080808; --card: #151515; --gold: #ffcc00; --red: #ff4757; 
            --green: #2ed573; --blue: #1e90ff; --gray: #2f3542; --white: #ffffff;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'system-ui', sans-serif; background: var(--bg); color: var(--white); margin: 0; display: flex; justify-content: center; padding: 10px; }
        
        .app { width: 100%; max-width: 600px; display: flex; flex-direction: column; gap: 12px; }

        /* Zones et Steps */
        .section { background: var(--card); border-radius: 16px; padding: 18px; border: 2px solid #252525; position: relative; }
        .active-step { border-color: var(--gold) !important; box-shadow: 0 0 20px rgba(255, 204, 0, 0.15); }

        .label-step { font-size: 0.75rem; color: var(--gold); text-transform: uppercase; margin-bottom: 12px; display: block; font-weight: 800; }

        /* Style des Boutons de Mains avec Tooltip */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .btn-container { position: relative; display: inline-block; width: 100%; }
        
        .btn { width: 100%; padding: 18px 10px; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; font-size: 0.9rem; color: white; background: #2a2a2a; }
        
        /* Tooltip (Bulle) */
        .tooltip {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 10px;
            position: absolute;
            z-index: 100;
            bottom: 125%; /* Au-dessus du bouton */
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.75rem;
            font-weight: normal;
            border: 1px solid var(--gold);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            pointer-events: none;
        }

        .btn-container:hover .tooltip { visibility: visible; opacity: 1; }

        /* Couleurs */
        .premium { background: linear-gradient(135deg, #b8860b, #daa520); color: black; }
        .strong { background: #1b6d5b; }
        .spec { background: #1a5a7a; }
        .weak { background: #3d3d3d; }

        /* Navigation et Status */
        .pos-selector { display: flex; background: #000; border-radius: 50px; padding: 5px; border: 1px solid #333; margin-bottom: 10px; }
        .pos-btn { flex: 1; padding: 12px; border: none; border-radius: 40px; cursor: pointer; font-weight: bold; color: #666; background: transparent; }
        .pos-btn.active { background: var(--blue); color: white; }
        .street-indicator { display: flex; gap: 5px; margin-bottom: 15px; }
        .st-dot { flex: 1; height: 6px; border-radius: 10px; background: #333; }
        .st-dot.active { background: var(--gold); }

        .opp-row { display: flex; gap: 10px; }
        .opp-btn { flex: 1; background: #222; border: 1px solid #444; padding: 15px; border-radius: 12px; font-weight: bold; color: white; }
        .opp-btn.selected { background: var(--red); border-color: white; }

        .display { text-align: center; padding: 25px; border-radius: 20px; border: 4px solid var(--gray); background: #000; }
        .action-main { font-size: 2rem; font-weight: 900; }

        @media (min-width: 768px) { .grid { grid-template-columns: repeat(4, 1fr); } }
    </style>
</head>
<body>

<div class="app">
    <div id="step1" class="section active-step">
        <span class="label-step">1. Duel & Position</span>
        <div class="pos-selector">
            <button id="p-btn-on" class="pos-btn active" onclick="setPos(true)">BOUTON</button>
            <button id="p-btn-off" class="pos-btn" onclick="setPos(false)">HORS POS</button>
        </div>
        <div class="street-indicator">
            <div id="dot-PRE" class="st-dot active"></div>
            <div id="dot-FLOP" class="st-dot"></div>
            <div id="dot-TURN" class="st-dot"></div>
            <div id="dot-RIVER" class="st-dot"></div>
        </div>
    </div>

    <div id="step2" class="section">
        <span class="label-step">2. Action Adverse</span>
        <div class="opp-row">
            <button class="btn opp-btn" id="opp-check" onclick="setOpp('CHECK')">CHECK / CALL</button>
            <button class="btn opp-btn" id="opp-raise" onclick="setOpp('RAISE')">MISE / RELANCE</button>
        </div>
    </div>

    <div id="step3" class="section">
        <span class="label-step" id="hand-label">3. Ma Main</span>
        <div id="btn-grid" class="grid"></div>
    </div>

    <div class="display" id="display-zone">
        <div id="res-main" class="action-main">---</div>
    </div>

    <button class="btn" style="background:var(--red); border: 2px solid white; margin-top:10px;" onclick="reset()">RESET MATCH</button>
</div>

<script>
    let isDealer = true, street = 'PRE', oppAction = '', myPower = '';
    const streets = ['PRE', 'FLOP', 'TURN', 'RIVER'];

    // D√©finition des tooltips
    const descriptions = {
        PREMIUM: "AA, KK, QQ, JJ, AKs, AKo. Les meilleures mains possibles.",
        STRONG: "AQ, AJ, KQ, KJs, Paires (77-TT). Tr√®s solide en duel.",
        SPEC: "89s, JTs, QJ, Petites paires. Fort potentiel de suite/couleur.",
        WEAK: "Ax faible, K5+, Q7+, n'importe quelle carte d√©pareill√©e jouable.",
        HIT_BIG: "Brelan, Suite, Couleur ou Deux Paires max.",
        HIT_SMALL: "Top Paire avec bon kicker ou deuxi√®me paire solide.",
        DRAW: "Tirage Couleur (4 cartes) ou Tirage Quinte par les deux bouts.",
        MISS: "Rien du tout, hauteur As ou hauteur Roi sans paire."
    };

    const data = {
        PRE: [
            {l:"Elite", c:"premium", v:"PREMIUM"},
            {l:"Fort", c:"strong", v:"STRONG"},
            {l:"Projet", c:"spec", v:"SPEC"},
            {l:"Faible", c:"weak", v:"WEAK"}
        ],
        POST: [
            {l:"Monstre", c:"premium", v:"HIT_BIG"},
            {l:"Top Paire", c:"strong", v:"HIT_SMALL"},
            {l:"Tirage", c:"spec", v:"DRAW"},
            {l:"Rien / Air", c:"weak", v:"MISS"}
        ]
    };

    function setPos(val) {
        isDealer = val;
        document.getElementById('p-btn-on').classList.toggle('active', val);
        document.getElementById('p-btn-off').classList.toggle('active', !val);
        highlight(2);
    }

    function highlight(s) {
        document.querySelectorAll('.section').forEach(x => x.classList.remove('active-step'));
        document.getElementById('step' + s).classList.add('active-step');
    }

    function setOpp(act) {
        oppAction = act;
        document.querySelectorAll('.opp-btn').forEach(b => b.classList.remove('selected'));
        document.getElementById('opp-' + act.toLowerCase()).classList.add('selected');
        highlight(3);
        calculate();
    }

    function renderButtons() {
        const grid = document.getElementById('btn-grid');
        grid.innerHTML = "";
        const set = (street === 'PRE') ? data.PRE : data.POST;
        document.getElementById('hand-label').innerText = "3. Ma main (" + street + ")";
        
        set.forEach(m => {
            const container = document.createElement('div');
            container.className = 'btn-container';
            
            const tooltip = document.createElement('div');
            tooltip.className = 'tooltip';
            tooltip.innerText = descriptions[m.v];
            
            const b = document.createElement('button');
            b.className = `btn ${m.c}`;
            b.innerText = m.l;
            b.onclick = () => { myPower = m.v; calculate(); nextStreet(); };
            
            container.appendChild(tooltip);
            container.appendChild(b);
            grid.appendChild(container);
        });
    }

    function calculate() {
        if(!oppAction || !myPower) return;
        const res = document.getElementById('res-main');
        const zone = document.getElementById('display-zone');
        let m = (oppAction === 'RAISE') ? 
            (myPower.includes('PREMIUM') || myPower.includes('BIG') || myPower.includes('DRAW') ? "ALL-IN üöÄ" : "FOLD ‚ùå") : 
            (myPower === 'WEAK' || myPower === 'MISS' ? "CHECK" : "BET 1/2 POT");
        res.innerText = m;
        zone.style.borderColor = m.includes("FOLD") ? "var(--red)" : "var(--green)";
    }

    function nextStreet() {
        let idx = streets.indexOf(street);
        if(idx < 3) {
            street = streets[idx + 1];
            oppAction = ''; myPower = '';
            document.querySelectorAll('.st-dot').forEach(d => d.classList.remove('active'));
            document.getElementById('dot-' + street).classList.add('active');
            document.querySelectorAll('.opp-btn').forEach(b => b.classList.remove('selected'));
            renderButtons();
            highlight(2);
        }
    }

    function reset() {
        street = 'PRE'; oppAction = ''; myPower = '';
        document.querySelectorAll('.st-dot').forEach(d => d.classList.remove('active'));
        document.getElementById('dot-PRE').classList.add('active');
        document.querySelectorAll('.opp-btn').forEach(b => b.classList.remove('selected'));
        document.getElementById('res-main').innerText = "---";
        renderButtons();
        highlight(1);
    }

    renderButtons();
</script>
</body>
</html>
